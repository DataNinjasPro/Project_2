<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Giphy API</title>
</head>

<body>
  <div class="imgGoesHere"></div>
  <button class="btn">Giphy Me</button>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.7.3/d3.min.js"></script>
  <script type="text/javascript">
    // Example queryURL for Giphy API
    // YOUR CODE
    var movie = "matrix";
    var queryURL = "http://api.giphy.com/v1/gifs/search?q=movies+" + movie + "&api_key=dc6zaTOxFJmzC&limit=10";

    d3.select(".btn").on("click", handleButtonClick)

    function handleButtonClick() {
      d3.json(queryURL, handleResponse)
    }
    // 1. get links

    function handleResponse(error, response) {
      if (error) return console.warn(error);

      // 2. select a specific link
      console.log(response);
      selectAndUpdateImg(response.data[0].images.fixed_height.url)

    }
    // 3. select image tag
    // 4. update src of image tag with url
    function selectAndUpdateImg(url) {
      var $img = d3.select(".imgGoesHere").html("").append("img");
      $img.attr("src", url);
    }


  </script>

</body>

</html>
